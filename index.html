<!DOCTYPE html>
<html lang="zxx" class="no-js">
<head>
	<!-- Mobile Specific Meta -->
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<!-- Favicon-->
	<link rel="shortcut icon" href="">
	<!-- Author Meta -->
	<meta name="author" content="Andres Solis Montero">
	<!-- Meta Description -->
	<meta name="description" content="">
	<!-- Meta Keyword -->
	<meta name="keywords" content="">
	<!-- meta character set -->
	<meta charset="UTF-8">
	<!-- Site Title -->
	<title>Microsoft Hearts</title>

	
		<!--
		CSS   
		============================================= -->
		<link rel="stylesheet" href="css/background.css?asdf">
		<link rel="stylesheet" href="vendor/bootstrap-4/css/bootstrap.min.css">
        <link rel="stylesheet" href="vendor/font-awesome-4.7.0/css/font-awesome.min.css">
		<link rel="stylesheet" href="css/card.css">
	</head>
	<body>
			<div class="nb-card">

					<div class="card ">
							<div class="card-header ">
							  <ul class="nav nav-tabs card-header-tabs">
								<li class="nav-item">
								  <a class="nav-link active" data-toggle="tab" href="#signin" role="tab">Sign in</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" data-toggle="tab" href="#signup" role="tab">Register</a>
								</li>
								
							  </ul>
							</div>
							<div class="card-body tab-content d-flex h-100">
											<div class="tab-pane active w-100 align-self-center" id="signin" role="tabpanel">
													
													<!-- <div class="alert alert-danger alert-dismissible fade show" role="alert">
															<strong>Holy guacamole!</strong> You should check in on some of those fields below.
															<button type="button" class="close" data-dismiss="alert" aria-label="Close">
															  <span aria-hidden="true">&times;</span>
															</button>
													</div> -->
													<form id="login_form" method="post" action="home.php">
															<!-- Username -->
															<div class="form-group">
																	<input type="text" 		name="username"   placeholder="Username"  	required="required" class="form-control"/>
															</div>
															<!-- Password -->
															<div class="form-group">
																	<input type="password" 	name="password"   placeholder="Password" 	required="required" class="form-control"/>
															</div>
															<div class="form-group">
																	<input type="hidden"	name="action"	  value="login" class="form-control"/>
															</div>
															<br>
															
															<!-- Button -->
															<button id="login" type="submit" class="btn btn-primary btn-block btn-large">Let me in</button>
													</form>
															<hr class="divider">
															<div class="text-center p-2 small">
																<a href="stats.html">Rankings</a>>
															</div>
															<div class="text-center p-2 small">
																	<a href="games.html">Watch Game</a>>
															</div>
														
													
											</div>

											<div class="tab-pane w-100 align-self-center" id="signup" role="tabpanel">
													<form id="register_form" method="post" >
															<div id="register_alert"></div>
															<!-- Name -->
															<div class="form-group">
																	<input type="text" 		name="first_name" placeholder="Name" 		required="required" class="form-control"/>
															</div>
															<!-- Last Name -->
															<div class="form-group">
																	<input type="text" 		name="last_name"  placeholder="Last Name" 	required="required" class="form-control"/>
															</div>
															<!-- Username -->
															<div class="form-group">
																	<input type="text" 		name="username"   placeholder="Username"  	required="required" class="form-control"/>
															</div>
															<!-- Password -->
															<div class="form-group">
																	<input type="password" 	name="password"   placeholder="Password" 	required="required" class="form-control"/>
															</div>
															<div class="form-group">
																	<input type="hidden"	name="action"	  value="register" class="form-control"/>
															</div>
															<br>
															<!-- Button -->
															<button id="register" type="submit" class="btn btn-primary btn-block btn-large">Sign me Up</button>
													</form>
											</div>
							</div>
					</div>
			</div>
		
		<!-- jQuery first, then Tether, then Bootstrap JS. -->
		<script src="vendor/jquery3.2.1/jquery.min.js" ></script>
		<script src="vendor/popper1.12.9/popper.min.js"></script>
		<script src="vendor/bootstrap-4/js/bootstrap.min.js"></script>
		<script src="vendor/json2html-sprintf/sprintf.js"></script>
		<script src="vendor/json2html-sprintf/json2html.js"></script>
		<script src="vendor/json2html-sprintf/jquery.json2html.js"></script>
		<script src="vendor/jQuery-MD5/jquery.md5.js"></script>
		
		<script src="js/display.js"></script>
		<!-- Login  -->
		<script>
				$(function() {
					
					$('#login').click(function(event){
						var password_input = '#login_form input[name="password"]';
						var hash = $.md5($(password_input).val());
						$(password_input).val(hash);
					});
					
				});
			</script>
		<!-- Register  -->
		<script>
			$(function() {
				var controller = "controller.php";
				var redirect   = "index.html";

				$('#register').click(function(event){

					var username_input = '#register_form input[name="username"]';
					var password_input = '#register_form input[name="password"]';
					
					var hash = $.md5($(password_input).val());
					$(password_input).val(hash);

					$.post(controller, $('#register_form').serialize(), function(output){
						if (output)
						{
							var obj = JSON.parse(output);
							if (obj.return)
								window.location.href = redirect;
							showAlert('#register_alert', obj);
							$(username_input).focus();
							$(password_input).val('');
						}
					})
					event.preventDefault();
				});
				
			});
		</script>
	  </body>
</html>
